<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymelaf.org">
    <head>
        <meta charset ="UTF-8">
        <meta name="viewport" content="width=device-width, intial-scale=1.0">
        <title>Bookclub | Welcome</title>
        <title>Book List</title>
        <!-- Bootstrap StyleSheet CDN -->
        <link href ="http://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css"
        rel="stylesheet"
        integrity ="sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0YzlztcQTwFspd3yD65VohhpuuCOmLASjC"
        crossorigin="anonymous">
    </head>
    <body>
        <div th:insert="~{fragments/header :: header}"></div>

        <main>
            <section class ="py-5 text-center container">
                <div class ="row py-lg-5">
                    <div class ="col-lg-6 col-md-8 mx-auto">
                        <h1 class ="fw-light">Book Club</h1>
                        <p class ="Lead text-muted">
                            Welcome to the Book Club app, your "one stop shop" for all of your book club needs. 
                            Below you will find a list of this month top 10 favourite books. Select the book to see it's details.
                        </p>
                    </div>
                </div>
            </section>
        </main>
        <h1>Book List</h1>
        <table>
             <thead>
                <tr>
                    <th>ISBN</th>
                    <th>Title</th>
                    <th>Description</th>
                    <th>Number of Pages</th>
                    <th>Author</th>

                </tr>
             </thead>
             <tbody>
                <!----Thymeleaf itartion over thenlist of books-->
                <tr th:each="book:${books}">
                    <!--Dipslay books details using Thymeleaf expressions-->
                    <td th:text = "${book.isbn}">ISBN</td>
                    <td th:text = "${book.title}"><Title></Title></td>
                    <td th:text = "${book.description}">Description</td>
                    <td th:text = "${book.numOfPages}">Number of Pages</td>
                    <td>
                        <!--Thymeleaf iteration over teh list of authors--->
                        <ul th:each="author : ${book.getAuthors()}">
                            <li th:text="${author}"></li>
                        </ul>
                    </td>
                    <!---Set the href attributes of abutton using Thymeleaf href directory-->
                    <td>
                        <a th:href="@{'/' + ${book.isbn}}" class="btn btn-primary">view</a>

                    </td>
                </tr>
             </tbody>
        </table>
        

        <div th:insert="~{fragments/footer :: footer}"></div>
        <div th:insert="~{fragments/scriptFooter :: scriptFooter}"></div>

    </body>
</html>